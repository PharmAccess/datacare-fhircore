"use strict";(self.webpackChunkfhircore=self.webpackChunkfhircore||[]).push([[520],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(r),h=a,f=d["".concat(s,".").concat(h)]||d[h]||u[h]||i;return r?n.createElement(f,o(o({ref:t},c),{},{components:r})):n.createElement(f,o({ref:t},c))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5652:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=r(7462),a=(r(7294),r(3905));const i={},o="Publishing FHIR SDK Library Artifacts",l={unversionedId:"developer-setup/publishing-fhir-sdk-artifacts",id:"developer-setup/publishing-fhir-sdk-artifacts",title:"Publishing FHIR SDK Library Artifacts",description:"Local Publishing",source:"@site/docs/developer-setup/publishing-fhir-sdk-artifacts.mdx",sourceDirName:"developer-setup",slug:"/developer-setup/publishing-fhir-sdk-artifacts",permalink:"/developer-setup/publishing-fhir-sdk-artifacts",draft:!1,editUrl:"https://github.com/opensrp/fhircore/tree/main/docs/docs/developer-setup/publishing-fhir-sdk-artifacts.mdx",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Keycloak Auth Token Configuration",permalink:"/developer-setup/keycloak-auth-token-config"},next:{title:"Getting Started",permalink:"/getting-started/"}},s={},p=[{value:"Local Publishing",id:"local-publishing",level:3}],c={toc:p};function u(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"publishing-fhir-sdk-library-artifacts"},"Publishing FHIR SDK Library Artifacts"),(0,a.kt)("h3",{id:"local-publishing"},"Local Publishing"),(0,a.kt)("p",null,"At the moment, we have the following FHIR SDK artifacts that need to be released so that they can be included as dependencies on reliant applications e.g. FHIR Core"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Android FHIR Common Library"),(0,a.kt)("li",{parentName:"ul"},"Android FHIR Engine Library"),(0,a.kt)("li",{parentName:"ul"},"Android FHIR Structured Data Capture Library"),(0,a.kt)("li",{parentName:"ul"},"Android FHIR Workflow Library"),(0,a.kt)("li",{parentName:"ul"},"Android FHIR Structured Data Capture - Barcode Extensions (contrib)")),(0,a.kt)("p",null,"Sometimes one wants to test the changes on the repo e.g. on the ",(0,a.kt)("inlineCode",{parentName:"p"},"master")," branch without doing a remote release to ",(0,a.kt)("em",{parentName:"p"},"Sonatype")," during development. It is possible to do this locally."),(0,a.kt)("p",null,"We can use the ",(0,a.kt)("em",{parentName:"p"},"Android FHIR Structured Data Capture(SDC) Library")," as an example:"),(0,a.kt)("p",null,"First,  one needs to edit the ",(0,a.kt)("em",{parentName:"p"},"Releases")," file ",(0,a.kt)("inlineCode",{parentName:"p"},"buildSrc/src/main/kotlin/Releases.kt")," and add a unique(to your local machine) artifact identifier for the SDC library version.\nFor instance, if on the master branch under the ",(0,a.kt)("inlineCode",{parentName:"p"},"object DataCapture : LibraryArtifact")," the version reads ",(0,a.kt)("inlineCode",{parentName:"p"},"0.1.0-beta02"),", you might want to change that to ",(0,a.kt)("inlineCode",{parentName:"p"},"0.1.0-beta02-dev"),". Then later for new changes use ",(0,a.kt)("inlineCode",{parentName:"p"},"0.1.0-beta02-dev2")," and so on."),(0,a.kt)("p",null,"This approach allows for multiple variations of local artifacts with your development changes and also helps avoid clashes with any remote artifact versions with a similar identifier."),(0,a.kt)("p",null,"Using the above example you then need to include the new version as a dependency in your ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle")," file and reference it like this: ",(0,a.kt)("br",null)," ",(0,a.kt)("inlineCode",{parentName:"p"},"api('com.google.android.fhir:data-capture:0.1.0-beta02-dev') {")),(0,a.kt)("p",null,"Once all the above is in place you just need to run the command: ",(0,a.kt)("br",null),"\n",(0,a.kt)("inlineCode",{parentName:"p"},"./gradlew :datacapture:publishReleasePublicationToMavenLocal"),". ",(0,a.kt)("br",null)),(0,a.kt)("p",null,"Your artifact should now be available under your maven local repo. location ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.m2/repository/com/google/android/fhir/data-capture/0.1.0-beta02-dev/")),(0,a.kt)("p",null,"Building FHIR Core should now import the new artifact version. MavenLocal is already configured as an artifact source."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Note:")," This process needs to be repeated for all of the above aforementioned artifacts incase there are changes required there as well for testing. Also note, if you need to test changes present in other un-merged branches, you'd need to build the release artifact from a release branch that has all the other (un-merged) branch changes as well."))}u.isMDXComponent=!0}}]);